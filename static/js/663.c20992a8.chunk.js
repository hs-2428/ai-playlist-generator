/*! For license information please see 663.c20992a8.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[663],{88:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(784).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},306:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(784).A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},340:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(784).A)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])},459:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(784).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},646:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(784).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},663:(e,s,t)=>{t.r(s),t.d(s,{default:()=>P});var a=t(555),l=t(43),i=t(352),r=t(784);const c=(0,r.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var n=t(829),d=t(459),o=t(88),x=t(918),h=t(646),m=t(830),y=t(306);const u=(0,r.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),p=(0,r.A)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),v=(0,r.A)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var g=t(855),j=t(340),b=t(677);const f=(0,r.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),N=(0,r.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var w=t(18),k=t(862),A=t(579);const P=()=>{var e,s,t,r,P;const{id:_}=(0,i.g)(),C=(0,i.Zp)(),{user:M}=(0,w.Jd)(),[E,L]=(0,l.useState)(null),[S,T]=(0,l.useState)(!0),[R,F]=(0,l.useState)(!1),[z,D]=(0,l.useState)(null),[H,O]=(0,l.useState)(!1),[q,I]=(0,l.useState)(!1);(0,l.useEffect)(()=>{B()},[_]);const B=async()=>{try{T(!0);const e=await k.A.get("/api/playlists/".concat(_));L(e.data)}catch(e){console.error("Error fetching playlist:",e),C("/404")}finally{T(!1)}},V=e=>{D(e),F(!0)},U=E&&M&&(null===(e=E.creator)||void 0===e?void 0:e.clerkId)===M.id;return S?(0,A.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,A.jsxs)("div",{className:"animate-pulse",children:[(0,A.jsx)("div",{className:"bg-gray-200 h-64 rounded-xl mb-8"}),(0,A.jsx)("div",{className:"space-y-4",children:[...Array(10)].map((e,s)=>(0,A.jsx)("div",{className:"bg-gray-200 h-16 rounded-lg"},s))})]})}):E?(0,A.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,A.jsxs)("button",{onClick:()=>C(-1),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[(0,A.jsx)(c,{className:"w-5 h-5"}),(0,A.jsx)("span",{children:"Back"})]}),(0,A.jsxs)("div",{className:"bg-gradient-to-r from-primary-500 to-purple-600 text-white rounded-xl p-8 mb-8",children:[(0,A.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end space-y-6 md:space-y-0 md:space-x-8",children:[(0,A.jsx)("div",{className:"w-48 h-48 bg-white bg-opacity-20 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,A.jsx)(n.A,{className:"w-24 h-24"})}),(0,A.jsxs)("div",{className:"flex-1",children:[(0,A.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,A.jsx)("span",{className:"text-sm bg-white bg-opacity-20 px-2 py-1 rounded",children:E.isPublic?"Public Playlist":"Private Playlist"}),U&&(0,A.jsx)("span",{className:"text-sm bg-green-500 px-2 py-1 rounded",children:"Your Playlist"})]}),(0,A.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:E.name}),E.description&&(0,A.jsx)("p",{className:"text-primary-100 mb-4",children:E.description}),E.moodPrompt&&(0,A.jsxs)("div",{className:"mb-4",children:[(0,A.jsx)("span",{className:"text-sm text-primary-200",children:"Generated from mood:"}),(0,A.jsxs)("p",{className:"text-lg italic",children:['"',E.moodPrompt,'"']})]}),(0,A.jsxs)("div",{className:"flex items-center space-x-6 text-sm",children:[(0,A.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,A.jsx)(d.A,{className:"w-4 h-4"}),(0,A.jsx)("span",{children:(null===(s=E.creator)||void 0===s?void 0:s.firstName)||"Anonymous"})]}),(0,A.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,A.jsx)(n.A,{className:"w-4 h-4"}),(0,A.jsxs)("span",{children:[(null===(t=E.tracks)||void 0===t?void 0:t.length)||0," tracks"]})]}),(0,A.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,A.jsx)(o.A,{className:"w-4 h-4"}),(0,A.jsx)("span",{children:(()=>{if(null===E||void 0===E||!E.tracks)return"0:00";const e=E.tracks.reduce((e,s)=>e+(s.duration_ms||0),0),s=Math.floor(e/6e4),t=Math.floor(s/60);return t>0?"".concat(t,"h ").concat(s%60,"m"):"".concat(s,"m")})()})]}),(0,A.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,A.jsx)(x.A,{className:"w-4 h-4"}),(0,A.jsxs)("span",{children:[(null===(r=E.likes)||void 0===r?void 0:r.length)||0," likes"]})]}),(0,A.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,A.jsx)(h.A,{className:"w-4 h-4"}),(0,A.jsx)("span",{children:new Date(E.createdAt).toLocaleDateString()})]})]})]})]}),(0,A.jsxs)("div",{className:"flex items-center justify-between mt-8",children:[(0,A.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,A.jsxs)("button",{onClick:()=>{var e;return(null===(e=E.tracks)||void 0===e?void 0:e[0])&&V(E.tracks[0])},className:"flex items-center space-x-2 bg-green-500 text-white px-8 py-3 rounded-full font-semibold hover:bg-green-600 transition-colors",children:[(0,A.jsx)(m.A,{className:"w-5 h-5"}),(0,A.jsx)("span",{children:"Play"})]}),(0,A.jsx)("button",{onClick:async()=>{try{await k.A.post("/api/playlists/".concat(_,"/like")),L(e=>{var s;return(0,a.A)((0,a.A)({},e),{},{userLiked:!e.userLiked,likes:e.userLiked?(null===(s=e.likes)||void 0===s?void 0:s.filter(e=>e!==(null===M||void 0===M?void 0:M.id)))||[]:[...e.likes||[],null===M||void 0===M?void 0:M.id]})})}catch(e){console.error("Error liking playlist:",e)}},className:"w-12 h-12 rounded-full flex items-center justify-center transition-colors ".concat(E.userLiked?"bg-red-500 text-white":"bg-white bg-opacity-20 hover:bg-opacity-30"),children:(0,A.jsx)(x.A,{className:"w-6 h-6 ".concat(E.userLiked?"fill-current":"")})}),(0,A.jsx)("button",{onClick:()=>O(!0),className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors",children:(0,A.jsx)(y.A,{className:"w-6 h-6"})}),(0,A.jsx)("button",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors",children:(0,A.jsx)(u,{className:"w-6 h-6"})})]}),U&&(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)("button",{onClick:()=>I(!q),className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors",children:(0,A.jsx)(p,{className:"w-6 h-6"})}),q&&(0,A.jsxs)("div",{className:"absolute right-0 top-full mt-2 bg-white rounded-lg shadow-lg py-2 min-w-[180px] z-10",children:[(0,A.jsxs)("button",{onClick:async()=>{try{await k.A.patch("/api/playlists/".concat(_),{isPublic:!E.isPublic}),L(e=>(0,a.A)((0,a.A)({},e),{},{isPublic:!e.isPublic}))}catch(e){console.error("Error updating playlist:",e),alert("Failed to update playlist")}},className:"w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[(0,A.jsx)(y.A,{className:"w-4 h-4"}),(0,A.jsxs)("span",{children:["Make ",E.isPublic?"Private":"Public"]})]}),(0,A.jsxs)("button",{className:"w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[(0,A.jsx)(v,{className:"w-4 h-4"}),(0,A.jsx)("span",{children:"Edit Details"})]}),(0,A.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this playlist?"))try{await k.A.delete("/api/playlists/".concat(_)),C("/my-playlists")}catch(e){console.error("Error deleting playlist:",e),alert("Failed to delete playlist")}},className:"w-full px-4 py-2 text-left text-red-600 hover:bg-red-50 flex items-center space-x-2",children:[(0,A.jsx)(g.A,{className:"w-4 h-4"}),(0,A.jsx)("span",{children:"Delete Playlist"})]})]})]})]})]}),E.audioFeatures&&(0,A.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,A.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Audio Profile"}),(0,A.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,A.jsxs)("div",{className:"text-center",children:[(0,A.jsxs)("div",{className:"text-3xl font-bold text-primary-600 mb-1",children:[E.audioFeatures.energyLevel,"%"]}),(0,A.jsx)("div",{className:"text-sm text-gray-600",children:"Energy"}),(0,A.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,A.jsx)("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"".concat(E.audioFeatures.energyLevel,"%")}})})]}),(0,A.jsxs)("div",{className:"text-center",children:[(0,A.jsxs)("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:[E.audioFeatures.danceability,"%"]}),(0,A.jsx)("div",{className:"text-sm text-gray-600",children:"Danceability"}),(0,A.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,A.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"".concat(E.audioFeatures.danceability,"%")}})})]}),(0,A.jsxs)("div",{className:"text-center",children:[(0,A.jsxs)("div",{className:"text-3xl font-bold text-green-600 mb-1",children:[E.audioFeatures.valence,"%"]}),(0,A.jsx)("div",{className:"text-sm text-gray-600",children:"Positivity"}),(0,A.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,A.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(E.audioFeatures.valence,"%")}})})]})]})]}),(0,A.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,A.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,A.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Tracks"})}),(0,A.jsx)("div",{className:"divide-y divide-gray-100",children:null===(P=E.tracks)||void 0===P?void 0:P.map((e,s)=>{var t,a,l,i,r;return(0,A.jsx)("div",{className:"p-4 hover:bg-gray-50 transition-colors group ".concat((null===z||void 0===z?void 0:z.id)===e.id?"bg-primary-50":""),children:(0,A.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,A.jsxs)("div",{className:"w-8 h-8 flex items-center justify-center",children:[(null===z||void 0===z?void 0:z.id)===e.id&&R?(0,A.jsx)("button",{onClick:()=>F(!1),className:"w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center",children:(0,A.jsx)(j.A,{className:"w-4 h-4"})}):(0,A.jsx)("button",{onClick:()=>V(e),className:"w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,A.jsx)(m.A,{className:"w-4 h-4 ml-0.5"})}),(0,A.jsx)("span",{className:"text-sm font-medium text-gray-500 group-hover:hidden ".concat((null===z||void 0===z?void 0:z.id)===e.id?"hidden":""),children:s+1})]}),(null===(t=e.album)||void 0===t||null===(a=t.images)||void 0===a?void 0:a[0])&&(0,A.jsx)("img",{src:e.album.images[0].url,alt:"Album cover",className:"w-12 h-12 rounded"}),(0,A.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,A.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.name}),(0,A.jsx)("p",{className:"text-sm text-gray-600 truncate",children:null===(l=e.artists)||void 0===l?void 0:l.map(e=>e.name).join(", ")})]}),(0,A.jsx)("div",{className:"hidden md:block flex-1 min-w-0",children:(0,A.jsx)("p",{className:"text-sm text-gray-600 truncate",children:null===(i=e.album)||void 0===i?void 0:i.name})}),(0,A.jsxs)("div",{className:"text-sm text-gray-500 w-12 text-right",children:[Math.floor((e.duration_ms||0)/6e4),":",String(Math.floor((e.duration_ms||0)%6e4/1e3)).padStart(2,"0")]}),(0,A.jsxs)("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.preview_url&&(0,A.jsx)("button",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,A.jsx)(b.A,{className:"w-4 h-4 text-gray-600"})}),(null===(r=e.external_urls)||void 0===r?void 0:r.spotify)&&(0,A.jsx)("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center hover:bg-green-200 transition-colors",children:(0,A.jsx)(f,{className:"w-4 h-4 text-green-600"})})]})]})},e.id||s)})})]}),H&&(0,A.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,A.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[(0,A.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Share Playlist"}),(0,A.jsx)("div",{className:"space-y-4",children:(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Share Link"}),(0,A.jsxs)("div",{className:"flex",children:[(0,A.jsx)("input",{type:"text",value:window.location.href,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg bg-gray-50 text-sm"}),(0,A.jsx)("button",{onClick:()=>{const e=window.location.href;navigator.clipboard.writeText(e),alert("Link copied to clipboard!")},className:"px-4 py-2 bg-primary-600 text-white rounded-r-lg hover:bg-primary-700 transition-colors",children:(0,A.jsx)(N,{className:"w-4 h-4"})})]})]})}),(0,A.jsx)("div",{className:"flex justify-end space-x-3 mt-6",children:(0,A.jsx)("button",{onClick:()=>O(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})})]})})]}):(0,A.jsxs)("div",{className:"max-w-6xl mx-auto text-center py-16",children:[(0,A.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Playlist not found"}),(0,A.jsx)("p",{className:"text-gray-600 mb-6",children:"The playlist you're looking for doesn't exist or has been deleted."}),(0,A.jsx)("button",{onClick:()=>C(-1),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Go Back"})]})}},677:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(784).A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])},830:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(784).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},855:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(784).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},862:(e,s,t)=>{t.d(s,{A:()=>r});var a=t(722);const l={NODE_ENV:"production",PUBLIC_URL:"/ai-playlist-generator",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLERK_PUBLISHABLE_KEY:"pk_test_Y2xvc2luZy1ob3JzZS00LmNsZXJrLmFjY291bnRzLmRldiQ",REACT_APP_API_BASE_URL:"https://ai-playlist-generator-la8z.onrender.com/api",REACT_APP_SPOTIFY_CLIENT_ID:"your_spotify_client_id_here",REACT_APP_ENV:"development"}.REACT_APP_API_URL||"http://localhost:5000/api",i=a.A.create({baseURL:l,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{var s,t;const a=null===(s=window.Clerk)||void 0===s||null===(t=s.session)||void 0===t?void 0:t.getToken();return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>{var s,t;401===(null===(s=e.response)||void 0===s?void 0:s.status)&&(null===(t=window.Clerk)||void 0===t||t.signOut());return Promise.reject(e)});const r=i}}]);
//# sourceMappingURL=663.c20992a8.chunk.js.map